/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/@react-spring/rafz@9.6.1/dist/react-spring-rafz.esm.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
let e=w();const t=t=>u(t,e);let n=w();t.write=e=>u(e,n);let l=w();t.onStart=e=>u(e,l);let a=w();t.onFrame=e=>u(e,a);let o=w();t.onFinish=e=>u(e,o);let d=[];t.setTimeout=(e,n)=>{let l=t.now()+n,a=()=>{let e=d.findIndex((e=>e.cancel==a));~e&&d.splice(e,1),s-=~e?1:0},o={time:l,handler:e,cancel:a};return d.splice(c(l),0,o),s+=1,h(),o};let c=e=>~(~d.findIndex((t=>t.time>e))||~d.length);t.cancel=t=>{l.delete(t),a.delete(t),o.delete(t),e.delete(t),n.delete(t)},t.sync=e=>{f=!0,t.batchedUpdates(e),f=!1},t.throttle=e=>{let n;function a(){try{e(...n)}finally{n=null}}function o(...e){n=e,t.onStart(a)}return o.handler=e,o.cancel=()=>{l.delete(a),n=null},o};let r="undefined"!=typeof window?window.requestAnimationFrame:()=>{};t.use=e=>r=e,t.now="undefined"!=typeof performance?()=>performance.now():Date.now,t.batchedUpdates=e=>e(),t.catch=console.error,t.frameLoop="always",
t.advance=()=>{"demand"!==t.frameLoop?       null     :p()};  // console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand")
let i=-1,s=0,f=!1;function u(e,t){f?(t.delete(e),e(0)):(t.add(e),h())}function h(){i<0&&(i=0,"demand"!==t.frameLoop&&r(m))}function m(){~i&&(r(m),t.batchedUpdates(p))}function p(){let r=i;i=t.now();let f=c(i);f&&(y(d.splice(0,f),(e=>e.handler())),s-=f),s?(l.flush(),e.flush(r?Math.min(64,i-r):16.667),a.flush(),n.flush(),o.flush()):i=-1}function w(){let e=new Set,t=e;return{add(n){s+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(s-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,s-=t.size,y(t,(t=>t(n)&&e.add(t))),s+=e.size,t=e)}}}function y(e,n){e.forEach((e=>{try{n(e)}catch(e){t.catch(e)}}))}const x={count:()=>s,isRunning:()=>i>=0,clear(){i=-1,d=[],l=w(),e=w(),a=w(),n=w(),o=w(),s=0}};export{x as __raf,t as raf};export default null;
